define("appkit/adapters/application",[],function(){"use strict"}),define("appkit/app",["resolver","exports"],function(a,b){"use strict";var c=a["default"],d=Ember.Application.extend({LOG_ACTIVE_GENERATION:!0,LOG_MODULE_RESOLVER:!0,LOG_TRANSITIONS:!0,LOG_TRANSITIONS_INTERNAL:!0,LOG_VIEW_LOOKUPS:!0,modulePrefix:"appkit",Resolver:c.default,rsConnected:!1,rsConnecting:!1});Ember.RSVP.configure("onerror",function(a){a instanceof Error&&(Ember.Logger.assert(!1,a),Ember.Logger.error(a.stack))}),d.initializer({name:"remoteStorage",initialize:function(a,b){RemoteStorage.WireClient.REQUEST_TIMEOUT=9e4,remoteStorage.access.claim("shares","rw"),remoteStorage.displayWidget("remotestorage-connect",{redirectUri:window.location.href}),remoteStorage.on("ready",function(){b.set("rsConnecting",!1),b.set("rsConnected",!0)}),remoteStorage.on("disconnected",function(){b.set("rsConnecting",!1),b.set("rsConnected",!1)}),remoteStorage.on("connecting",function(){b.set("rsConnecting",!0),b.set("rsConnected",!1)}),remoteStorage.on("authing",function(){b.set("rsConnecting",!0),b.set("rsConnected",!1)})}}),d.initializer({name:"dialogs",initialize:function(){window.vex.defaultOptions.className="vex-theme-flat-attack"}}),b["default"]=d}),define("appkit/components/history-item",["exports"],function(a){"use strict";a["default"]=Ember.Component.extend({isImage:function(){return this.get("url").match(/(jpg|jpeg|png|gif|webp)$/i)}.property("url"),thumbnailUrl:function(){return remoteStorage.shares.getThumbnailURL(this.get("name"))}.property("name"),itemStyle:function(){return this.get("isImage")?"background-image:url("+this.get("thumbnailUrl")+");background-color:#ccc":void 0}.property("url"),nameWithoutTimestamp:function(){return this.get("name").substr(12)}.property("name")})}),define("appkit/components/loading-spinner",["exports"],function(a){"use strict";a["default"]=Ember.Component.extend({didInsertElement:function(){var a=this.$(".spinner-wrapper");a.css("height",this.get("height")+"px");var b={lines:this.get("lines")||13,length:this.get("length")||20,width:this.get("width")||10,radius:this.get("radius")||30,corners:this.get("corners")||1,rotate:this.get("rotate")||0,direction:this.get("direction")||1,color:this.get("color")||"#000",speed:this.get("speed")||1,trail:this.get("trail")||60,shadow:this.get("shadow")||!1,hwaccel:this.get("hwaccel")||!0,className:"spinner",zIndex:this.get("zIndex")||2e9,top:this.get("top")||"0",left:this.get("left")||"0"};a.spin(b)}})}),define("appkit/components/pretty-color",["exports"],function(a){"use strict";a["default"]=Ember.Component.extend({classNames:["pretty-color"],attributeBindings:["style"],style:function(){return"color: "+this.get("name")+";"}.property("name")})}),define("appkit/controllers/application",["exports"],function(a){"use strict";var b=Ember.Controller.extend({});a["default"]=b}),define("appkit/controllers/history",["exports"],function(a){"use strict";var b=Ember.ArrayController.extend({content:[],sortProperties:["name"],sortAscending:!1,loadItems:function(){this.set("content",[]);var a=this;console.log("loading items"),remoteStorage.shares.list().then(function(b){$.each(b,function(b,c){var d=Ember.Object.create({name:c,url:remoteStorage.shares.getFileURL(c),isDeleting:!1});a.pushObject(d)})})},itemCount:function(){return this.get("content").length}.property("content.@each"),removeItem:function(a,b){var c=this.findProperty(a,b);this.removeObject(c)},actions:{share:function(a){window.vex.dialog.alert("Direct URL:<p><input type='text' value='"+a+"'>"),$(".vex-content input").first().select()},remove:function(a){var b=this,c=this.findProperty("name",a);c.set("isDeleting",!0),remoteStorage.shares.remove(a).then(function(){b.removeObject(c)},function(a){c.set("isDeleting",!1),window.alert("Couldn't remove item. Please try again. Sorry!"),console.log(a)})}}});a["default"]=b}),define("appkit/controllers/upload",["exports"],function(a){"use strict";var b=Ember.ObjectController.extend({content:{},fileToUpload:!1,isUploading:!1,fileIsImage:function(){return this.get("content.type").match("image.*")}.property("content.type"),simpleFileType:function(){var a=this.get("content.type");return a&&"undefined"!=typeof a&&""!==a?a.replace("/","-"):"unkown"}.property("content.type"),actions:{cancelFileUpload:function(){this.set("fileToUpload",!1),this.set("content",{})},submitFileUpload:function(){var a=this,b=a.get("content");a.set("isUploading",!0),remoteStorage.shares.storeFile(b.type,b.name,b.binary).then(function(b){a.setProperties({fileToUpload:!1,isUploading:!1,content:{}}),window.vex.dialog.alert("Direct URL:<p><input type='text' value='"+b+"'>"),$(".vex-content input").first().select()},function(b){a.set("isUploading",!1),window.vex.dialog.alert("Something bad happened during upload.<br />Please try again."),console.log(b)})}}});a["default"]=b}),define("appkit/helpers/human-file-size",["exports"],function(a){"use strict";a["default"]=Ember.Handlebars.makeBoundHelper(function(a){var b=-1,c=[" KB"," MB"," GB"," TB","PB","EB","ZB","YB"];do a/=1024,b++;while(a>1024);return String(Math.max(a,.1).toFixed(1)+c[b])})}),define("appkit/helpers/reverse-word",["exports"],function(a){"use strict";a["default"]=Ember.Handlebars.makeBoundHelper(function(a){return a.split("").reverse().join("")})}),define("appkit/router",["exports"],function(a){"use strict";var b=Ember.Router.extend();b.map(function(){this.route("component-test"),this.route("helper-test"),this.resource("history",{path:"/history"})}),b.reopen({location:"history"}),a["default"]=b}),define("appkit/routes/component_test",["exports"],function(a){"use strict";a["default"]=Ember.Route.extend({model:function(){return["purple","green","orange"]}})}),define("appkit/routes/helper_test",["exports"],function(a){"use strict";a["default"]=Ember.Route.extend({model:function(){return{name:"rebmE"}}})}),define("appkit/routes/history",["exports"],function(a){"use strict";a["default"]=Ember.Route.extend({redirect:function(){remoteStorage.connected||this.transitionTo("index")}})}),define("appkit/routes/index",["exports"],function(a){"use strict";a["default"]=Ember.Route.extend({renderTemplate:function(){this.render("upload",{controller:"upload"})}})}),define("appkit/views/history",["exports"],function(a){"use strict";var b=Ember.View.extend({didInsertElement:function(){this.controller.loadItems()}});a["default"]=b}),define("appkit/views/upload",["exports"],function(a){"use strict";var b=Ember.View.extend({templateName:"upload",hasFileToUploadBinding:"this.controller.fileToUpload",classNameBindings:["hasFileToUpload"],didInsertElement:function(){this.$("#dropzone").bind("dragenter",function(){return $(this).addClass("drag-active"),!1}),this.$("#dropzone").bind("dragover",function(a){return a.preventDefault(),!1}),this.$("#dropzone").bind("dragleave",function(){return $(this).removeClass("drag-active"),!1}),this.$("#dropzone").bind("drop",function(){$(this).removeClass("drag-active")})}});a["default"]=b}),define("appkit/views/upload_file_select",["exports"],function(a){"use strict";var b=Ember.TextField.extend({type:"file",change:function(a){var b=a.target;b.files&&b.files[0]&&this.handleInputFile(b.files[0])},handleInputFile:function(a){var b=this,c=b._parentView.controller;if(c.setProperties({name:a.name,type:a.type,size:a.size,fileToUpload:!0}),a.type.match("image.*")){var d=new FileReader;d.onload=function(){return function(){c.set("base64",this.result)}}(a),d.readAsDataURL(a)}var e=new FileReader;e.onload=function(){return function(){c.set("binary",this.result)}}(a),e.readAsArrayBuffer(a)}});a["default"]=b}),define("appkit/templates/_welcome",["exports"],function(a){a["default"]=Ember.Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,Ember.Handlebars.helpers),e=e||{},e.buffer.push('<section class="content welcome">\n  <h2>Welcome!</h2>\n\n  <p>\n    With <em>Sharesome</em>, you can share files on the Web from your own\n    remote storage.\n  </p>\n  <p>\n    Connect your storage using the remoteStorage widget in the upper right\n    corner, or <a target="_blank" href="http://remotestorage.io/get">visit the\n      remoteStorage website</a> to register for an account or learn how to set\n    up your own storage server.\n  </p>\n</section>\n\n')})}),define("appkit/templates/application",["exports"],function(a){a["default"]=Ember.Handlebars.template(function(a,b,c,d,e){function f(a,b){b.buffer.push("S")}function g(a,b){b.buffer.push('<i class="icon-history"></i>')}function h(a,b){var d,e,f="";return b.buffer.push("\n  "),d={},e={},b.buffer.push(r(c._triageMustache.call(a,"outlet",{hash:{},contexts:[a],types:["ID"],hashContexts:e,hashTypes:d,data:b}))),b.buffer.push("\n  "),f}function i(a,b){var d,e,f,g="";return b.buffer.push("\n    "),e={},f={},d=c["if"].call(a,"App.rsConnecting",{hash:{},inverse:t.program(10,k,b),fn:t.program(8,j,b),contexts:[a],types:["ID"],hashContexts:f,hashTypes:e,data:b}),(d||0===d)&&b.buffer.push(d),b.buffer.push("\n  "),g}function j(a,b){var d,e,f,g,h="";return b.buffer.push('\n    <section class="content remotestorage-connecting">\n      '),e={height:a,width:a,radius:a,color:a,top:a,left:a},f={height:"INTEGER",width:"INTEGER",radius:"INTEGER",color:"STRING",top:"STRING",left:"STRING"},g={hash:{height:300,width:5,radius:30,color:"#222",top:"auto",left:"auto"},contexts:[],types:[],hashContexts:e,hashTypes:f,data:b},b.buffer.push(r((d=c.spinner||a.spinner,d?d.call(a,g):s.call(a,"spinner",g)))),b.buffer.push("\n      <p>Connecting<p>\n    </section>\n    "),h}function k(a,b){var d,e,f,g,h="";return b.buffer.push("\n      "),e={},f={},g={hash:{},contexts:[a],types:["STRING"],hashContexts:f,hashTypes:e,data:b},b.buffer.push(r((d=c.partial||a.partial,d?d.call(a,"welcome",g):s.call(a,"partial","welcome",g)))),b.buffer.push("\n    "),h}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,Ember.Handlebars.helpers),e=e||{};var l,m,n,o,p,q="",r=this.escapeExpression,s=c.helperMissing,t=this;return e.buffer.push('<nav>\n  <ul>\n    <li id="logo">'),n={},o={},p={hash:{},inverse:t.noop,fn:t.program(1,f,e),contexts:[b],types:["STRING"],hashContexts:o,hashTypes:n,data:e},l=c["link-to"]||b["link-to"],m=l?l.call(b,"index",p):s.call(b,"link-to","index",p),(m||0===m)&&e.buffer.push(m),e.buffer.push('</li>\n    <li id="history">'),n={},o={},p={hash:{},inverse:t.noop,fn:t.program(3,g,e),contexts:[b],types:["STRING"],hashContexts:o,hashTypes:n,data:e},l=c["link-to"]||b["link-to"],m=l?l.call(b,"history",p):s.call(b,"link-to","history",p),(m||0===m)&&e.buffer.push(m),e.buffer.push("</li>\n  </ul>\n</nav>\n<main>\n  "),n={},o={},m=c["if"].call(b,"App.rsConnected",{hash:{},inverse:t.program(7,i,e),fn:t.program(5,h,e),contexts:[b],types:["ID"],hashContexts:o,hashTypes:n,data:e}),(m||0===m)&&e.buffer.push(m),e.buffer.push("\n</main>\n"),q})}),define("appkit/templates/component-test",["exports"],function(a){a["default"]=Ember.Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f,g,h="";return b.buffer.push("\n  "),e={name:a},f={name:"ID"},g={hash:{name:""},contexts:[],types:[],hashContexts:e,hashTypes:f,data:b},b.buffer.push(l((d=c["pretty-color"]||a["pretty-color"],d?d.call(a,g):k.call(a,"pretty-color",g)))),b.buffer.push("\n"),h}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,Ember.Handlebars.helpers),e=e||{};var g,h,i,j="",k=c.helperMissing,l=this.escapeExpression,m=this;return h={},i={},g=c.each.call(b,{hash:{},inverse:m.noop,fn:m.program(1,f,e),contexts:[],types:[],hashContexts:i,hashTypes:h,data:e}),(g||0===g)&&e.buffer.push(g),e.buffer.push("\n"),j})}),define("appkit/templates/components/history-item",["exports"],function(a){a["default"]=Ember.Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f,g,h="";return b.buffer.push('\n  <div class="image" '),e={style:a},f={style:"STRING"},g={hash:{style:"itemStyle"},contexts:[],types:[],hashContexts:e,hashTypes:f,data:b},b.buffer.push(m((d=c["bind-attr"]||a["bind-attr"],d?d.call(a,g):l.call(a,"bind-attr",g)))),b.buffer.push("></div>\n"),h}function g(a,b){var d,e,f="";return b.buffer.push('\n  <div class="image generic-file">\n    <p class="meta">'),d={},e={},b.buffer.push(m(c._triageMustache.call(a,"nameWithoutTimestamp",{hash:{},contexts:[a],types:["ID"],hashContexts:e,hashTypes:d,data:b}))),b.buffer.push("</p>\n  </div>\n"),f}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,Ember.Handlebars.helpers),e=e||{};var h,i,j,k="",l=c.helperMissing,m=this.escapeExpression,n=this;return i={},j={},h=c["if"].call(b,"isImage",{hash:{},inverse:n.program(3,g,e),fn:n.program(1,f,e),contexts:[b],types:["ID"],hashContexts:j,hashTypes:i,data:e}),(h||0===h)&&e.buffer.push(h),e.buffer.push("\n"),k})}),define("appkit/templates/components/loading-spinner",["exports"],function(a){a["default"]=Ember.Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,Ember.Handlebars.helpers),e=e||{},e.buffer.push('<div class="spinner-wrapper"></div>\n')})}),define("appkit/templates/components/pretty-color",["exports"],function(a){a["default"]=Ember.Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,Ember.Handlebars.helpers),e=e||{};var f,g,h="",i=this.escapeExpression;return e.buffer.push("Pretty Color: "),f={},g={},e.buffer.push(i(c._triageMustache.call(b,"name",{hash:{},contexts:[b],types:["ID"],hashContexts:g,hashTypes:f,data:e}))),e.buffer.push("\n"),h})}),define("appkit/templates/helper-test",["exports"],function(a){a["default"]=Ember.Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,Ember.Handlebars.helpers),e=e||{};var f,g,h,i,j="",k=c.helperMissing,l=this.escapeExpression;return e.buffer.push("<h3>My name is "),g={},h={},i={hash:{},contexts:[b],types:["ID"],hashContexts:h,hashTypes:g,data:e},e.buffer.push(l((f=c["reverse-word"]||b["reverse-word"],f?f.call(b,"name",i):k.call(b,"reverse-word","name",i)))),e.buffer.push(".</h3>\n"),j})}),define("appkit/templates/history",["exports"],function(a){a["default"]=Ember.Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f,h,i,j="";return b.buffer.push("\n    <li>\n      "),f={url:a,name:a},h={url:"ID",name:"ID"},i={hash:{url:"url",name:"name"},contexts:[],types:[],hashContexts:f,hashTypes:h,data:b},b.buffer.push(m((d=c["history-item"]||a["history-item"],d?d.call(a,i):l.call(a,"history-item",i)))),b.buffer.push('\n      <div class="overlay">\n        <a class="delete" '),h={},f={},b.buffer.push(m(c.action.call(a,"remove","name",{hash:{},contexts:[a,a],types:["STRING","ID"],hashContexts:f,hashTypes:h,data:b}))),b.buffer.push('><i class="icon-trash"></i></a>\n        <a class="share" '),h={},f={},b.buffer.push(m(c.action.call(a,"share","url",{hash:{},contexts:[a,a],types:["STRING","ID"],hashContexts:f,hashTypes:h,data:b}))),b.buffer.push('><i class="icon-export"></i></a>\n      </div>\n      '),h={},f={},e=c["if"].call(a,"isDeleting",{hash:{},inverse:n.noop,fn:n.program(2,g,b),contexts:[a],types:["ID"],hashContexts:f,hashTypes:h,data:b}),(e||0===e)&&b.buffer.push(e),b.buffer.push("\n    </li>\n    "),j}function g(a,b){var d,e,f,g,h="";return b.buffer.push('\n      <div class="overlay-deleting">\n        '),e={height:a,width:a,radius:a,color:a,top:a,left:a},f={height:"INTEGER",width:"INTEGER",radius:"INTEGER",color:"STRING",top:"STRING",left:"STRING"},g={hash:{height:200,width:4,radius:20,color:"#eee",top:"auto",left:"auto"},contexts:[],types:[],hashContexts:e,hashTypes:f,data:b},b.buffer.push(m((d=c["loading-spinner"]||a["loading-spinner"],d?d.call(a,g):l.call(a,"loading-spinner",g)))),b.buffer.push("\n      </div>\n      "),h}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,Ember.Handlebars.helpers),e=e||{};var h,i,j,k="",l=c.helperMissing,m=this.escapeExpression,n=this;return e.buffer.push('<section class="content history">\n  <ul>\n    '),i={},j={},h=c.each.call(b,{hash:{},inverse:n.noop,fn:n.program(1,f,e),contexts:[],types:[],hashContexts:j,hashTypes:i,data:e}),(h||0===h)&&e.buffer.push(h),e.buffer.push("\n  </ul>\n</section>\n"),k})}),define("appkit/templates/index",["exports"],function(a){a["default"]=Ember.Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,Ember.Handlebars.helpers),e=e||{};var f="";return f})}),define("appkit/templates/upload",["exports"],function(a){a["default"]=Ember.Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f,i="";return b.buffer.push("\n  "),e={},f={},d=c["if"].call(a,"isUploading",{hash:{},inverse:q.program(4,h,b),fn:q.program(2,g,b),contexts:[a],types:["ID"],hashContexts:f,hashTypes:e,data:b}),(d||0===d)&&b.buffer.push(d),b.buffer.push("\n"),i}function g(a,b){var d,e,f,g,h="";return b.buffer.push('\n    <section class="content upload-in-progress">\n      '),e={height:a,width:a,radius:a,color:a,top:a,left:a},f={height:"INTEGER",width:"INTEGER",radius:"INTEGER",color:"STRING",top:"STRING",left:"STRING"},g={hash:{height:300,width:5,radius:30,color:"#222",top:"auto",left:"auto"},contexts:[],types:[],hashContexts:e,hashTypes:f,data:b},b.buffer.push(p((d=c["loading-spinner"]||a["loading-spinner"],d?d.call(a,g):o.call(a,"loading-spinner",g)))),b.buffer.push("\n      <p>Uploading<p>\n    </section>\n  "),h}function h(a,b){var d,e,f,g,h="";return b.buffer.push('\n    <section class="content upload-preview">\n      <div class="upload-preview">\n        '),e={},f={},d=c["if"].call(a,"fileIsImage",{hash:{},inverse:q.program(7,j,b),fn:q.program(5,i,b),contexts:[a],types:["ID"],hashContexts:f,hashTypes:e,data:b}),(d||0===d)&&b.buffer.push(d),b.buffer.push('\n        <p class="meta-data">\n          <span class="name">'),e={},f={},b.buffer.push(p(c._triageMustache.call(a,"name",{hash:{},contexts:[a],types:["ID"],hashContexts:f,hashTypes:e,data:b}))),b.buffer.push('</span>\n          <span class="size">'),e={},f={},g={hash:{},contexts:[a],types:["ID"],hashContexts:f,hashTypes:e,data:b},b.buffer.push(p((d=c["human-file-size"]||a["human-file-size"],d?d.call(a,"size",g):o.call(a,"human-file-size","size",g)))),b.buffer.push('</span>\n        </p>\n        <p class="actions">\n          <button '),e={},f={},b.buffer.push(p(c.action.call(a,"submitFileUpload",{hash:{},contexts:[a],types:["ID"],hashContexts:f,hashTypes:e,data:b}))),b.buffer.push(' class="upload">Upload</button>\n          <button '),e={},f={},b.buffer.push(p(c.action.call(a,"cancelFileUpload",{hash:{},contexts:[a],types:["ID"],hashContexts:f,hashTypes:e,data:b}))),b.buffer.push(' class="cancel">Cancel</button>\n        </p>\n      </div>\n    </section>\n  '),h}function i(a,b){var d,e,f,g,h="";return b.buffer.push('\n        <div id="file-preview" class="image">\n          <img id="preview-image" '),e={src:a},f={src:"ID"},g={hash:{src:"base64"},contexts:[],types:[],hashContexts:e,hashTypes:f,data:b},b.buffer.push(p((d=c["bind-attr"]||a["bind-attr"],d?d.call(a,g):o.call(a,"bind-attr",g)))),b.buffer.push(">\n        </div>\n        "),h}function j(a,b){var d,e,f,g,h="";return b.buffer.push('\n        <div id="file-preview" '),e={"class":a},f={"class":"STRING"},g={hash:{"class":"simpleFileType"},contexts:[],types:[],hashContexts:e,hashTypes:f,data:b},b.buffer.push(p((d=c["bind-attr"]||a["bind-attr"],d?d.call(a,g):o.call(a,"bind-attr",g)))),b.buffer.push(">\n          <p>icon for CSS class<br><code>#filepreview."),f={},e={},b.buffer.push(p(c._triageMustache.call(a,"simpleFileType",{hash:{},contexts:[a],types:["ID"],hashContexts:e,hashTypes:f,data:b}))),b.buffer.push("</code></p>\n        </div>\n        "),h}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,Ember.Handlebars.helpers),e=e||{};var k,l,m,n="",o=c.helperMissing,p=this.escapeExpression,q=this;return e.buffer.push('<section id="dropzone" class="content upload">\n<div class="hint">\n  <p>Drag file here or tap anywhere</p>\n</div>\n<label class="file-picker">\n  '),l={contentBinding:b},m={contentBinding:"STRING"},e.buffer.push(p(c.view.call(b,"upload-file-select",{hash:{contentBinding:"content"},contexts:[b],types:["STRING"],hashContexts:l,hashTypes:m,data:e}))),e.buffer.push("\n</label>\n</section>\n\n"),m={},l={},k=c["if"].call(b,"fileToUpload",{hash:{},inverse:q.noop,fn:q.program(1,f,e),contexts:[b],types:["ID"],hashContexts:l,hashTypes:m,data:e}),(k||0===k)&&e.buffer.push(k),e.buffer.push("\n"),n})});